{
    "version": 8,
    "name": "Rusic Tiles Demo Style",
    "glyphs": "https://font.americanamap.org/{fontstack}/{range}.pbf",
    "sources": {
       "rustic": {
            "type": "vector",
            "url": "http://localhost:3000/rustic"
        }
    },
    "sprite": "http://localhost:3366/style/sprites/demo",
    "layers": [
        {
            "id": "background",
            "type": "background",
            "paint": {
                "background-color": "White"
            }
        },
        {
            "id": "area",
            "source": "rustic",
            "source-layer": "area",
            "type": "fill",
            "filter": ["!", ["any", ["has", "building"], ["==", ["get", "boundary"], "administrative"]]],
            "paint": {
                "fill-color": [
                    "case",
                    ["in", ["get", "natural"], ["literal", ["coastline", "water"]]], "Blue",
                    ["has", "natural"], "Green",
                    "Black"
                ],
                "fill-opacity": 0.1
            }
        },
        {
            "id": "unspecified-line",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["!",[
                "any",
                ["has", "barrier"],
                ["has", "highway"],
                ["has", "railway"],
                ["has", "route"],
                ["has", "waterway"],
                ["in", "┃administrative┃", ["get", "r.boundary"]]
            ]],
            "paint": {
                "line-color": "Purple"
            }
        },
        {
            "id": "barrier-line",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["has", "barrier"],
            "paint": {
                "line-color": "Black",
                "line-opacity": 0.5
            }
        },
        {
            "id": "waterway",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["has", "waterway"],
            "paint": {
                "line-color": "Blue",
                "line-opacity": 0.5
            }
        },
        {
            "id": "railway",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["has", "railway"],
            "paint": {
                "line-color": "Black",
                "line-opacity": 1
            }
        },
        {
            "id": "highway",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["has", "highway"],
            "paint": {
                "line-color": [
                    "case",
                    ["in", ["get", "highway"], ["literal", ["bridleway", "corridor", "cycleway",  "footway", "path", "steps"]]], "DarkGreen",
                    "Red"
                ],
                "line-opacity": 1
            }
        },
        {
            "id": "route",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["has", "route"],
            "paint": {
                "line-color": "DarkSlateGrey",
                "line-dasharray": [4, 4]
            }
        },
        {
            "id": "building",
            "source": "rustic",
            "source-layer": "area",
            "type": "fill",
            "filter": ["has", "building"],
            "paint": {
                "fill-color": "Orange",
                "fill-opacity": 0.5
            }
        },
        {
            "id": "boundary",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "filter": ["in", "┃administrative┃", ["get", "r.boundary"]],
            "paint": {
                "line-color": "Magenta",
                "line-dasharray": [4, 4]
            }
        },
        {
            "id": "boundary-label",
            "source": "rustic",
            "source-layer": "area",
            "type": "symbol",
            "filter": ["==", ["get", "boundary"], "administrative"],
            "layout": {
                "symbol-placement": "line",
                "text-overlap": "never",
                "text-offset":[
                    "match", ["get", "admin_level"],
                    "4", ["literal", [-30, 1]],
                    "6", ["literal", [-15, 1]],
                    ["literal", [0, 1]]
                ],
                "text-size": 11,
                "text-font": ["Americana-Regular"],
                "text-field": ["get", "name"]
            },
            "paint": {
                "text-color":  "Black",
                "text-halo-color": "White",
                "text-halo-width": 1.5
            }
        },
        {
            "id": "line-label",
            "source": "rustic",
            "source-layer": "line",
            "type": "symbol",
            "layout": {
                "symbol-placement": "line",
                "text-size": 11,
                "text-font": [
                    "case",
                    ["has", "waterway"], ["literal", ["Americana-Italic"]],
                    ["literal", ["Americana-Regular"]]
                ],
                "text-field": ["coalesce", ["get", "name"], ["get", "ref"]]
            },
            "paint": {
                "text-color": [
                    "case",
                    ["has", "waterway"], "Navy",
                    "Black"
                ],
                "text-halo-color": "White",
                "text-halo-width": 1.5
            }
        },
        {
            "id": "area-target",
            "source": "rustic",
            "source-layer": "area",
            "type": "fill",
            "paint": {
                "fill-opacity": 0
            }
        },
        {
            "id": "line-target",
            "source": "rustic",
            "source-layer": "line",
            "type": "line",
            "paint": {
                "line-width": 8,
                "line-opacity": 0
            }
        },
        {
            "id": "point-label",
            "source": "rustic",
            "source-layer": "point",
            "type": "symbol",
            "layout": {
                "icon-image": ["image", "circle"],
                "icon-allow-overlap": true,
                "text-size": 11,
                "text-font": [
                    "case",
                    ["has", "place"], ["literal", ["Americana-Bold"]],
                    ["==", ["get", "natural"], "water"], ["literal", ["Americana-Italic"]],
                    ["literal", ["Americana-Regular"]]
                ],
                "text-optional": true,
                "symbol-sort-key": [
                    "case",
                    ["has", "place"], 0,
                    ["has", "area_3857"], ["-", 1000000000000, ["get", "area_3857"]],
                    1000000000000
                ],
                "text-field": ["coalesce", ["get", "name"], ["get", "ref"]]
            },
            "paint": {
                "icon-opacity": 0.5,
                "text-color": [
                    "case",
                    ["==", ["get", "natural"], "water"], "Navy",
                    "Black"
                ],
                "text-halo-color": "White",
                "text-halo-width": 1.5
            }
        }
    ]
}